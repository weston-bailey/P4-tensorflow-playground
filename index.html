<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- tfsj cdn link -->
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@2.0.0/dist/tf.min.js"></script>
  <!-- tfjs-vis cdn -->
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-vis@1.4.3/dist/tfjs-vis.umd.min.js"></script>
  <!-- chart.js cdn -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js"></script>
  <!-- bootstrap cdn link -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <!-- local styles -->
  <link rel="stylesheet" href="./css/styles.css" />
  <title>Machine Laerning Playground</title>
</head>
<body>
  <nav class="navbar navbar-expand-md navbar-dark bg-dark">
    <a href=" " class="navbar-brand">ðŸ¤– Hello World ðŸ¤–</a>
  </nav>

  <main class="container-fluid">
    <div class="row">
      <!-- gutter col -->
      <div class="col-1"></div>
      <!-- left col -->
      <div class="col">
        <!-- select model type -->
        <div class="row">
          <div class="form-group w-100">
            <label for="data-select" class=" ">Select Dataset</label>
            <select class="form-control custom-select" id="data-select">
              <option selected value="numbers">MNIST handwritten numbers</option>
              <option value="fashion">MNSIST fashion apparel</option>
            </select>
            
            <label for="model-select" class=" ">Select Model</label>
            <select class="form-control custom-select" id="model-select">
              <option selected value="dense">dense</option>
              <option value="convolutional">convolutional</option>
            </select>
            
            <label for="units-number" class=" ">Dense Layer Units</label>
            <input class="form-control" type="number" value="128" min="1" step="1" id="units-number">
            
            <label for="hidden-layers-number" class=" ">Hidden Layers</label>
            <input class="form-control" type="number" value="1" min="1" step="1" id="hidden-layers-number">
            
            <button type="button" class="form-control btn btn-primary" id="model-create-destory">Create Model</button>
          </div>
        </div>
        
        <!-- TODO add model info table -->
        
        <!-- training form -->
        <div class="row">
          <div class="form-group w-100">
            <label for="batch-number" class=" ">Batch Size</label>
            <input class="form-control" type="number" value="128" min="1" step="1" id="batch-number">
            
            <label for="learning-rate-number" class=" ">Learning Rate</label>
            <input class="form-control" type="number" value=".001" min="0" max="1" step=".00001" id="learning-rate-number">
            
            <label for="epochs-number" class=" ">Epochs</label>
            <input class="form-control" type="number" value="1" min="1" step="1" id="epochs-number">
            
            <button type="button" class="form-control btn btn-primary" id="training-start-pause">Start Training Session</button>
            
            <button type="button" class="form-control btn btn-danger invisible" id="training-stop">End Training Session</button>
          </div>
        </div>
        
        <!-- canvas interaction -->
        <div class="row">
          <div id="row d-flex justify-content-center">
            <canvas id="input-canvas"></canvas>
          </div>
          
          <div class="form-group w-100">
            <button type="button" class="form-control btn btn-primary" id="cast-to-image">Predict</button>
            
            <button type="button" class="form-control btn btn-primary" id="clear-input-canvas">Clear</button>
          </div>
        </div>
      </div>

      <!-- gutter col -->
      <div class="col-1"></div>
      <!-- right column -->
      <div class="col">
        <div class="row">
          <h5>Dataset Example Images:</h5>
        </div>
        <div class="row d-flex justify-content-center" id="demo-data"></div>
        <hr />  

        <div class="row">
          <h5>Model Layer Details:</h5>
        </div>
        <div class="row d-flex justify-content-center" id="model-layer-details"></div>
        <hr />  

        <div class="row">
          <h5>Training Details:</h5>
        </div>  

        <div class="caption">Current Epoch</div>
        <div class="progress">
          <div class="progress-bar bg-info" style="width: 0%" id="fitting-training-status"></div>
        </div>

        <div class="caption">Progress</div>
        <div class="progress">
          <div class="progress-bar bg-success" style="width: 0%" id="epoch-training-status"></div>
        </div>
        
        <div class="caption">
          Batch 
          <span class="text-success">Accuracy</span>
          /
          <span class="text-danger">Loss</span>
        </div>
        <div class="progress">
          <div class="progress-bar bg-success" style="width: 0%" id="batch-acc-status"></div>

          <div class="progress-bar bg-danger" style="width: 0%" id="batch-loss-status"></div>
        </div>

        <div class="row d-flex justify-content-center" id="batch-training-graph"></div>
        <hr />
        
        <h5>Model Evaluation:</h5>
        <div class="row d-flex justify-content-center" id="model-eval-table"></div>
        <div class="badge badge-success" id="eval-acc"></div>



        <p id="learn-logs"></p>
        <!-- <canvas id="scatter-chartjs" height="400" width="500"></canvas> -->
        <div id="predict">
          
        </div>
        
        <p id="pedict-num"></p>
      </div>
      <!-- gutter col -->
      <div class="col-1"></div>
    </div>
  </main>
    <!-- TODO make UI -->
    <!-- import local scripts -->
    <script src="js/MnistData.js"></script>
    <script src="js/InputCanvas.js"></script>
  <script src="./js/state.js"></script>
  <script src="./js/functions-tfjs.js"></script>
  <script src="./js/functions-ui.js"></script>
  <script src="js/script.js"></script>
</body>
</html>