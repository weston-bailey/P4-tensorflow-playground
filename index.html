<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- tfsj cdn link -->
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@2.0.0/dist/tf.min.js"></script>
  <!-- tfjs-vis cdn -->
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-vis@1.4.3/dist/tfjs-vis.umd.min.js"></script>
  <!-- chart.js cdn -->
  <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js"></script> -->
  <!-- bootstrap cdn link -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <!-- JS, Popper.js, and jQuery -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
  <!-- local styles -->
  <link rel="stylesheet" href="./css/styles.css" />
  <title>Machine Laerning Playground</title>
</head>
<body>
  <nav class="navbar navbar-expand-md navbar-dark bg-dark">
    <a href=" " class="navbar-brand">ðŸ¤– Hello World ðŸ¤–</a>
  </nav>

  <main class="container-fluid">
    <div class="row">
      <!-- gutter col -->
      <div class="col-1"></div>
      <!-- left col -->
      <div class="col">
        <hr />
        <!-- select dataset type -->
        <div class="row">
          <h5>Choose a dataset to train with:</h5>
        </div>
        
        <div class="form-inline row p-1">
          <div class="col-4">
            <label for="data-select" class=" ">Select Dataset</label>
          </div>

          <div class="col-8">
            <select class="form-control custom-select" id="data-select">
              <option selected value="numbers">MNIST handwritten numbers</option>
              <option value="fashion">MNSIST fashion apparel</option>
            </select>
          </div>
        </div>
        <hr />

        <!-- select model type -->
        <div class="row">
          <h5>Design your neural network:</h5>
        </div>
        <div class="form-inline row p-1">
          <div class="col-4">
            <label for="model-select" class=" ">Select Model</label>
          </div>

          <div class="col-8">
            <select class="form-control custom-select" id="model-select">
              <option selected value="dense">dense</option>
              <option value="convolutional">convolutional</option>
            </select>
          </div>
        </div>
        
        <div class="form-inline row p-1">
          <div class="col-4">
            <label for="units-number" class=" ">Dense Layer Units</label>
          </div>

          <div class="col-8">
            <input class="form-control" type="number" value="128" min="1" step="1" id="units-number">
          </div>
        </div>
        
        <div class="form-inline row p-1">
          <div class="col-4">
            <label for="hidden-layers-number" class=" ">Hidden Layers</label>
          </div>

          <div class="col-8">
            <input class="form-control" type="number" value="1" min="1" step="1" id="hidden-layers-number">
          </div>
        </div>

        <div class="form-inline row p-1">
          <div class="col-8"></div>

          <div class="col-4">
            <button type="button" class="form-control btn btn-primary" id="model-create-destory">Create Model</button>
          </div>
        </div>
        <hr />
      
        <!-- training form -->
        <div class="row">
          <h5>Train your neural network:</h5>
        </div>

          <div class="form-inline row p-1">
            <div class="col-4">
              <label for="batch-number" class=" ">Batch Size</label>
            </div>

            <div class="col-8">
              <input class="form-control" type="number" value="128" min="1" step="1" id="batch-number">
            </div>
          </div>

          <div class="form-inline row p-1">
            <div class="col-4">
              <label for="learning-rate-number" class=" ">Learning Rate</label>
            </div>

            <div class="col-8">
              <input class="form-control" type="number" value=".001" min="0" max="1" step=".00001" id="learning-rate-number">
            </div>
          </div>

          <div class="form-inline row p-1">
            <div class="col-4">
              <label for="epochs-number" class=" ">Epochs</label>
            </div>

            <div class="col-8">
              <input class="form-control" type="number" value="1" min="1" step="1" id="epochs-number">
            </div>
          </div>

          <div class="form-inline row p-1">
            <div class="col-8"></div>
            
            <div class="col-4">
              <button type="button" class="form-control btn btn-primary" id="training-start-pause">Start Training Session</button>
            </div>
            <!-- todo -->
            <button type="button" class="form-control btn btn-danger invisible" id="training-stop">End Training Session</button>
          </div>
          <hr />

        <!-- Select Interaction -->    
        <div class="row">
          <ul class="nav nav-tabs">
            <li class="nav-item">
              <a href="#image-select" class="nav-link active" data-toggle="tab">Image Select</a>
            </li>

            <li class="nav-item">
                <a href="#canvas" class="nav-link" data-toggle="tab">Canvas</a>
            </li>
          </ul>
        </div>
        <!-- canvas/slect -->
        <div class="row">
          <div class="tab-content p-1">
            <div class="tab-pane fade show active" id="image-select">
              <h4 class="mt-2">Profile tab content</h4>
              <p>Vestibulum nec erat eu nulla rhoncus fringilla ut non neque. Vivamus nibh urna, ornare id gravida ut, mollis a magna. Aliquam porttitor condimentum nisi, eu viverra ipsum porta ut. Nam hendrerit bibendum turpis, sed molestie mi fermentum id. Aenean volutpat velit sem. Sed consequat ante in rutrum convallis. Nunc facilisis leo at faucibus adipiscing.</p>
            </div>
            <div class="tab-pane fade" id="canvas">
              <div id="row d-flex justify-content-center w-100">
                <canvas id="input-canvas"></canvas>
              </div>
              
              <div class="form-inline">
                <div class="row">

                  <div class="col"></div>
                  <button type="button" class="form-control btn btn-primary" id="cast-to-image">Predict</button>

                  <div class="col"></div>
                  
                  <button type="button" class="form-control btn btn-primary" id="clear-input-canvas">Clear</button>
                  <div class="col"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <hr />
      </div>

      <!-- gutter col -->
      <div class="col-1"></div>
      <!-- right column -->
      <div class="col">
        <hr />
        <div class="row">
          <h5>Dataset Example Images:</h5>
        </div>
        <div class="row d-flex justify-content-center" id="demo-data"></div>
        <hr />  

        <div class="row">
          <h5>Model Layer Details:</h5>
        </div>
        <div class="row d-flex justify-content-center" id="model-layer-details"></div>
        <hr />  

        <div class="row">
          <h5>Training Details:</h5>
        </div>  

        <div class="caption">Current Epoch</div>
        <div class="progress">
          <div class="progress-bar bg-info" style="width: 0%" id="fitting-training-status"></div>
        </div>

        <div class="caption">Progress</div>
        <div class="progress">
          <div class="progress-bar bg-success" style="width: 0%" id="epoch-training-status"></div>
        </div>
        
        <div class="caption">
          Batch 
          <span class="text-success">Accuracy</span>
          /
          <span class="text-danger">Loss</span>
        </div>
        <div class="progress">
          <div class="progress-bar bg-success" style="width: 0%" id="batch-acc-status"></div>

          <div class="progress-bar bg-danger" style="width: 0%" id="batch-loss-status"></div>
        </div>

        <div class="row d-flex justify-content-center" id="batch-training-graph"></div>
        <hr />
        
        <h5>Model Evaluation:</h5>
        <div class="row d-flex justify-content-center" id="model-eval-table"></div>
        <div class="badge badge-success" id="eval-acc"></div>

        <hr />
      </div>
      <!-- gutter col -->
      <div class="col-1"></div>
    </div>
  </main>
    <!-- TODO make UI -->
    <!-- import local scripts -->
    <script src="js/MnistData.js"></script>
    <script src="js/InputCanvas.js"></script>
  <script src="./js/state.js"></script>
  <script src="./js/functions-tfjs.js"></script>
  <script src="./js/functions-ui.js"></script>
  <script src="js/script.js"></script>
</body>
</html>